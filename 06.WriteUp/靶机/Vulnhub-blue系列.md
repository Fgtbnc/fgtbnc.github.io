---
title: Vulnhub--blueç³»åˆ—
date: 2023/6/1 19:48:25
categories:
- æ¸—é€æµ‹è¯•
tags:
- é¶åœº
---



### 1

<img src="../../../images/image-20230305123445338.png" alt="image-20230305123445338" style="zoom:80%;" />

![image-20230305130206056](../../../images/image-20230305130206056-1686283466992.png)

![image-20230305130221501](../../../images/image-20230305130221501-1686283466992.png)

secret.zipæ²¡æœ‰ç ´è§£å‡ºæ¥ã€‚

dirseachç›®å½•æ‰«æç»“æœ

![image-20230305130651336](../../../images/image-20230305130651336-1686283466992.png)

è®¿é—®robots.txtä¸­çš„ç½‘å€

![image-20230305130727097](../../../images/image-20230305130727097-1686283466992.png)

æ­Œè¯è¿åœ¨ä¸€èµ·MD5ä¸ºsshå¯†ç ï¼Œæ²¡æˆåŠŸã€‚

å¦ä¸€ä¸ªç½‘ç«™ä¸º/etc/dripispowerful.htmlï¼ŒçŒœæµ‹æœ‰æ–‡ä»¶åŒ…å«ï¼Œæ ¹æ®ä¸Šé¢çš„ç›®å½•æ‰«æåªæœ‰ä¸€ä¸ªindex.phpï¼Œå‚æ•°å°è¯•å‹ç¼©åŒ…é‡Œçš„focus  on "drip"ã€‚

å°è¯•è®¿é—®index.php?drip=/etc/dripispowerful.htmlï¼Œè·å¾—å¯†ç å’Œä¸¤ä¸ªç”¨æˆ·å

![image-20230305131636950](../../../images/image-20230305131636950-1686283466992.png)

sshç™»å½•

![image-20230305132010055](../../../images/image-20230305132010055-1686283466992.png)

ææƒï¼ˆä¸ä¼šï¼Œçœ‹wpçš„ï¼‰

![image-20230305133355153](../../../images/image-20230305133355153-1686283466992.png)

polkitææƒhttps://github.com/Almorabea/Polkit-exploit

![image-20230305133346301](../../../images/image-20230305133346301-1686283466992.png)

![image-20230305133331628](../../../images/image-20230305133331628-1686283466992.png)





### 2

- ftpåŒ¿åç™»å½•
- wordpressç”¨æˆ·çˆ†ç ´ï¼Œåå°getshell
- sshå¯†é’¥ç™»å½•
- nmapææƒ

![image-20230304120228644](../../../images/image-20230304120228644-1686283466993.png)

![image-20230304120308755](../../../images/image-20230304120308755-1686283466993.png)

ftpå­˜åœ¨åŒ¿åç™»å½•ï¼Œç»è¿‡éªŒè¯å‘ç°ftpä¸Šçš„secret.jpgæ— éšå†™ã€‚

![image-20230304120324693](../../../images/image-20230304120324693-1686283466993.png)



![image-20230304120358152](../../../images/image-20230304120358152-1686283466993.png)



wpscanç”¨æˆ·æšä¸¾

![image-20230304121310981](../../../images/image-20230304121310981-1686283466993.png)

è¿›è¡Œå¯†ç çˆ†ç ´

![image-20230304122015951](../../../images/image-20230304122015951-1686283466993.png)



è®¿é—®åå°æ—¶è·³è½¬ï¼Œæ·»åŠ hostè®°å½•

![image-20230304121229221](../../../images/image-20230304121229221-1686283466993.png)

è¿›å…¥åå°

åœ¨ä¸»é¢˜çš„404æ–‡ä»¶ä¸­åŠ å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œè®¿é—®è¯¥404æ–‡ä»¶ï¼Œä¼ å…¥åå¼¹shell

![image-20230304125406319](../../../images/image-20230304125406319-1686283466993.png)

![image-20230304125413838](../../../images/image-20230304125413838-1686283466993.png)

![image-20230304125353482](../../../images/image-20230304125353482-1686283466993.png)

è¿›å…¥å®¶ç›®å½•çœ‹çœ‹

![image-20230304125605846](../../../images/image-20230304125605846-1686283466993.png)

æ— æƒé™ï¼Œå°è¯•ææƒå¤±è´¥

ä½†æ˜¯è¿˜å­˜åœ¨sshå¯†é’¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†sshç§é’¥ä¸‹è½½åˆ°æœ¬åœ°ï¼Œé€šè¿‡sshç™»å½•åˆ°freddieç”¨æˆ·

ä½¿ç”¨pythonåœ¨.sshç›®å½•ä¸‹å¼€ä¸€ä¸ªç®€æ˜“æœåŠ¡å™¨ä¾›æœ¬åœ°ä¸‹è½½æ–‡ä»¶ã€‚

![image-20230304131800088](../../../images/image-20230304131800088-1686283466993.png)

æœ¬åœ°ä¸‹è½½ä¸‹æ¥åï¼Œéœ€è¦å°†id_rsaæ”¹ä¸ºåªæœ‰400æƒé™æ‰å¯ä»¥ä½¿ç”¨

![image-20230304132002887](../../../images/image-20230304132002887-1686283466993.png)

![image-20230304132104344](../../../images/image-20230304132104344-1686283466993.png)



![image-20230304132257002](../../../images/image-20230304132257002-1686283466993.png)

![image-20230304132307798](../../../images/image-20230304132307798-1686283466993.png)

![image-20230304132242555](../../../images/image-20230304132242555-1686283466993.png)

è¯»å–/root/root.txtè·å¾—ç¬¬äºŒä¸ªflagÂ·

![image-20230304132345766](../../../images/image-20230304132345766-1686283466993.png)

### 3

- sshæ—¥å¿—åŒ…å«getshell
- sshå¯†é’¥ç™»å½•
- å‘½ä»¤åŠ«æŒææƒ

![image-20230304141715650](../../../images/image-20230304141715650-1686283466994.png)

![image-20230304141957453](../../../images/image-20230304141957453-1686283466994.png)

å‡ ä¸ªç½‘ç«™éƒ½æ˜¯ABABã€‚ã€‚

wp-adminç›®å½•åªæœ‰ä¸€ä¸ªreadme

![image-20230304141834709](../../../images/image-20230304141834709-1686283466994.png)

æ¶ä½œå‰§ğŸ˜¡

å›å¤´çœ‹nampçš„é»˜è®¤è„šæœ¬çš„æ‰«æï¼Œå¯ä»¥çœ‹åˆ°robots.txtä¸­ç¦æ­¢äº†ä¸€ä¸ª/eventadminsï¼Œè®¿é—®

![image-20230304142524510](../../../images/image-20230304142524510-1686283466994.png)

å†è®¿é—®æç¤ºctrl+aå‘ç°

![image-20230304142655946](../../../images/image-20230304142655946-1686283466994.png)

![image-20230304142745118](../../../images/image-20230304142745118-1686283466994.png)

å†è®¿é—®

![image-20230304142923226](../../../images/image-20230304142923226-1686283466994.png)

ä¸€å¼€å§‹æƒ³çš„æ˜¯ç”¨ä¹å¤´è›‡è¿›è¡Œçˆ†ç ´ï¼Œä½†æ˜¯ç”¨æˆ·åªçŸ¥é“rootã€‚

åé¢å‘ç°ä¸è¡Œï¼Œæƒ³åˆ°æ—¥å¿—çš„ç”¨é€”ï¼Œå°è¯•è¿›è¡Œsshæ—¥å¿—åŒ…å«getshellã€‚

å› ä¸ºæ—¥å¿—ä¸­ä¼šè®°å½•sshè¿æ¥çš„ç”¨æˆ·å

![image-20230304165054436](../../../images/image-20230304165054436-1686283466994.png)

æ‰€ä»¥

![image-20230304165131376](../../../images/image-20230304165131376-1686283466994.png)

åå¼¹shell

![image-20230304165152817](../../../images/image-20230304165152817-1686283466994.png)

![image-20230304165204015](../../../images/image-20230304165204015-1686283466994.png)

è¿™é‡Œå’Œä¸Šä¸€ä¸ªé¶æœºä¸€æ ·ï¼Œå­˜åœ¨å¦ä¸€ä¸ªç”¨æˆ·robertjï¼Œå¹¶ä¸”www-dataæ— æ³•ææƒ

æŒ‰ç…§ä¸Šä¸€ä¸ªçš„æ€è·¯æŸ¥çœ‹.sshç›®å½•ï¼Œå‘ç°ä¸ºç©º

![image-20230304165345630](../../../images/image-20230304165345630-1686283466994.png)

é€‰æ‹©ç›´æ¥ç”Ÿæˆsshå¯†é’¥

<img src="../../../typora img/image-20230304175028256.png" alt="image-20230304175028256" style="zoom:80%;" />

æŸ¥çœ‹sshé…ç½®æ–‡ä»¶ï¼šåªå…è®¸å¯†é’¥éªŒè¯æ–¹å¼è¿æ¥ï¼Œå¹¶ä¸”ç”¨æ¥éªŒè¯çš„å…¬é’¥ä¸ºauthorized_keys

![image-20230304171108734](../../../images/image-20230304171108734-1686283466994.png)

æ‰€ä»¥éœ€è¦å°†å…¬é’¥id_rsa.pubæ”¹ä¸ºauthorized_keys

ç„¶åç”¨pythonåœ¨é¶æœºä¸Šå¼€ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œkaliä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½ç§é’¥ï¼Œå¹¶ä¿®æ”¹ç§é’¥æƒé™ï¼Œæœ€åsshç™»å½•

![image-20230304175249187](../../../images/image-20230304175249187-1686283466994.png)

ææƒ

![image-20230304174502247](../../../images/image-20230304174502247-1686283466994.png)

ä¸€å¼€å§‹æƒ³ç”¨stringsæŸ¥çœ‹çš„ï¼Œä½†æ˜¯æ²¡æœ‰å®‰è£…ï¼Œé‚£å°±ç›´æ¥ç”¨ä¸€ä¸‹çœ‹çœ‹

![image-20230304174629368](../../../images/image-20230304174629368-1686283466994.png)

å¯ä»¥çŸ¥é“è¿™ä¸ªå‘½ä»¤å®è´¨ä¸Šæ˜¯æ‰§è¡Œäº†

```shell
ip address
cat /etc/hosts
uname -a
```

é‚£ä¹ˆæˆ‘ä»¬é€‰ä¸€ä¸ªè¿›è¡Œæ„é€ å³å¯

```shell
echo "/bin/bash" > uname
chmod 777 uname 
export PATH=/home/robertj:$PATH
```

ç„¶åæ‰§è¡Œgetinfoå³å¯

![image-20230304174854741](../../../images/image-20230304174854741-1686283466995.png)

### 4

- miscè·å¾—äººå‘˜ä¿¡æ¯
- ftpçˆ†ç ´
- ftp+syncæœåŠ¡ï¼Œå¯¼è‡´å¯ä»¥é€šè¿‡ftpæœåŠ¡å™¨æ“ä½œç½‘ç«™æœåŠ¡å™¨ç›®å½•
- sshå¯†é’¥ç™»å½•
- å‘½ä»¤åŠ«æŒææƒ

![image-20230304191909931](../../../images/image-20230304191909931-1686283466995.png)

ç½‘ç«™æ³¨é‡Šè§£ç ï¼Œè®¿é—®å¦ä¸€ä¸ªç½‘ç«™ï¼Œbrainfuckè§£ç ï¼ŒäºŒç»´ç æ‰«ææœ€åå¾—åˆ°å¦‚ä¸‹

![image-20230304204625662](../../../images/image-20230304204625662-1686283466995.png)

æ”¶é›†åˆ°äº†ç½‘ç«™æŠ€æœ¯äººå‘˜çš„åå­—ï¼Œå¯ä»¥å°è¯•çˆ†ç ´ftpå’ŒsshæœåŠ¡ã€‚

```
luther
gary
hubert
clark
```

sshæ— æœ

ftp

```
login: luther   password: mypics
```

![image-20230304210341290](../../../images/image-20230304210341290-1686283466995.png)

![image-20230304211248271](../../../images/image-20230304211248271-1686283466995.png)

å‘ç°äº†ä¸€ä¸ªç›®å½•ï¼Œç›®å½•åä¸ºhubertæ˜¯æ”¶é›†åˆ°çš„ä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸”uidå’Œgidä¸º1001ï¼Œè¯æ˜å…¶æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·ï¼Œæ‰€ä»¥è¯¥ç›®å½•ä¸ºhubertç”¨æˆ·çš„å®¶ç›®å½•ã€‚

å¦ä¸€ä¸ªæ–‡ä»¶ä½¿ç”¨getå‘½ä»¤ä¸‹è½½åˆ°æœ¬åœ°å

![image-20230304212449213](../../../images/image-20230304212449213-1686283466995.png)

å¯ä»¥å‘ç°æ˜¯ä¸€ä¸ªåŒæ­¥å®Œæˆçš„æ—¥å¿—ã€‚

> æ‰€ä»¥æ ¹æ®è¿™ä¸¤ä¸ªä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æœåŠ¡å™¨ä¼šåŒæ­¥è¿™ä¸ªftpä¸Šçš„æ–‡ä»¶ï¼Œå°±ç›¸å½“äºæˆ‘ä»¬å¯ä»¥æ“ä½œhubertç”¨æˆ·çš„å®¶ç›®å½•ã€‚

æˆ‘ä»¬ä½¿ç”¨putå‘½ä»¤ä¸Šä¼ è‡ªå·±çš„å…¬é’¥

![image-20230304212132365](../../../images/image-20230304212132365-1686283466995.png)

éœ€è¦æ³¨æ„å…¬é’¥å

![image-20230304212209119](../../../images/image-20230304212209119-1686283466995.png)

ç„¶åsshè¿æ¥

![image-20230304212235168](../../../images/image-20230304212235168-1686283466995.png)

çœ‹ä¸‹å®¶ç›®å½•æœ‰å•¥

![image-20230304212842826](../../../images/image-20230304212842826-1686283466995.png)

è¯»å–è¿™ä¸ªrootæƒé™çš„pyæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™ä¸ªç½‘ç«™è¢«é»‘å®¢fricaæ”»å‡»äº†ï¼Œå¹¶ä¸”ç•™ä¸‹äº†åé—¨ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå‰é¢å«äººæ¥ä¿®å¤ç½‘ç«™çš„åŸå› ğŸ¤£

è¿™ä¸ªé»‘å®¢è¿˜å‘Šè¯‰æˆ‘ä»¬ä»–ç•™ä¸‹äº†æ¾æ•£çš„æƒé™ğŸ˜

![image-20230304212825018](../../../images/image-20230304212825018-1686283466995.png)

è®©æˆ‘åº·åº·

![image-20230304213424178](../../../images/image-20230304213424178-1686283466995.png)

è¿™æ¬¡æœ‰stringså‘½ä»¤ï¼ŒæŸ¥çœ‹getinfo

![image-20230304213618067](../../../images/image-20230304213618067-1686283466995.png)

è·Ÿä¸Šä¸€ä¸ªé¶æœºä¸€æ ·

![image-20230304213721571](../../../images/image-20230304213721571-1686283466995.png)

### 5

![image-20230305160546454](../../../images/image-20230305160546454-1686283466995.png)

![image-20230305163954224](../../../images/image-20230305163954224-1686283466995.png)

wpscanç”¨æˆ·æšä¸¾

![image-20230305160724611](../../../images/image-20230305160724611-1686283466995.png)

```
abuzerkomurcu
collins
gill
collins
satanic
```

å¯†ç å­—å…¸ç”Ÿæˆ

![image-20230305162409527](../../../images/image-20230305162409527-1686283466995.png)

> -m 6 æ˜¯å› ä¸ºwordpresså¯†ç æœ€å°‘6ä¸ªå­—ç¬¦

çˆ†ç ´å¯†ç 

![image-20230305162556601](../../../images/image-20230305162556601-1686283466995.png)

```
gill / interchangeable
```

æ™®é€šç”¨æˆ·ï¼Œåå°åªæ‰¾åˆ°ä¸€å¼ å¯ä»¥å›¾ç‰‡DB

![image-20230305164352862](../../../images/image-20230305164352862-1686283466996.png)

åˆ†æè¿™å¼ å›¾ç‰‡

![image-20230305164731337](../../../images/image-20230305164731337-1686283466996.png)

![image-20230305164827742](../../../images/image-20230305164827742-1686283466996.png)

å¾—åˆ°sshè´¦å·

```
gill 59583hello
```

ç™»é™†åå‘ç°

![image-20230305165100247](../../../images/image-20230305165100247-1686283466996.png)

```
lost+foundç›®å½•æ— æƒé™

å®¶ç›®å½•ä¸‹æœ‰ä¸€ä¸ªkEYFILE
```

é€šè¿‡æœç´¢å¾—åˆ°

![image-20230305165731867](../../../images/image-20230305165731867-1686283466996.png)

![image-20230305171048832](../../../images/image-20230305171048832-1686283466996.png)

å¯ä»¥ä½¿ç”¨johnè¿›è¡Œç ´è§£ï¼Œæœºå­GPUå¤ªåƒåœ¾äº†ï¼Œç›´æ¥ä»wpæ‹¿åˆ°å¯†ç 

è·å¾—å¯†ç åï¼Œå¯ä»¥ç”¨KeePassè½¯ä»¶https://sourceforge.net/projects/keepass/æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨çº¿ç½‘ç«™

https://app.keeweb.info/æ‰“å¼€ã€‚

æ‰“å¼€åå‘ç°6ä¸ªç©ºç™½çš„key

![image-20230305172848464](../../../images/image-20230305172848464-1686283466996.png)

ä¸çŸ¥é“æ‹¿æ¥å¹²å˜›çš„ã€‚ã€‚

ç»§ç»­ä¿¡æ¯æ”¶é›†ï¼Œå‘ç°æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªkeyfolderï¼Œå¯èƒ½å°±æ˜¯è¦è®©ä¸Šé¢çš„keyæ”¾åœ¨è¿™ä¸ªkeyfolder

è€Œä¸”ä½¿ç”¨pyps64ç›‘æ§è¿›ç¨‹å‘ç°æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡key.shï¼Œæ¯ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚

![image-20230305172941445](../../../images/image-20230305172941445-1686283466996.png)

ç»æµ‹è¯•å½“åªæœ‰ä¸€ä¸ªæ–‡ä»¶fracturedoceanæ—¶

![image-20230305174849955](../../../images/image-20230305174849955-1686283466996.png)

![image-20230305175028644](../../../images/image-20230305175028644-1686283466996.png)

å®šæ—¶è„šæœ¬å†…å®¹

![image-20230305175728426](../../../images/image-20230305175728426-1686283466996.png)



### 6

![image-20230307141431844](../../../images/image-20230307141431844-1686283466996.png)

åªå¼€æ”¾äº†80ç«¯å£

![image-20230307141917191](../../../images/image-20230307141917191-1686283466996.png)

æç¤ºæˆ‘ä»¬ç›®å½•æ‰«æè¦æ·»åŠ zipç±»å‹ï¼Œè¯´æ˜ç½‘ç«™ç›®å½•åº”è¯¥å­˜åœ¨zipæ–‡ä»¶

ç›®å½•æ‰«æ

dirserach

![image-20230307142511029](../../../images/image-20230307142511029-1686283466996.png)

gobuster

![image-20230307142447064](../../../images/image-20230307142447064-1686283466996.png)

è®¿é—®/spammerä¸‹è½½å¾—åˆ°spammer.zip

ä½¿ç”¨johnçˆ†ç ´

![image-20230307142628410](../../../images/image-20230307142628410-1686283466997.png)

è§£å‹å¾—åˆ°

```
mayer:lionheart
```

è®¿é—®ç½‘ç«™

![image-20230307141958670](../../../images/image-20230307141958670-1686283466997.png)

å°è¯•ç™»å½•è§£å‹å¾—åˆ°çš„ç”¨æˆ·ï¼ŒæˆåŠŸç™»å½•

![image-20230307142917723](../../../images/image-20230307142917723-1686283466997.png)

é€›äº†ä¸€åœˆå‘ç°ï¼Œé¡µé¢ç¼–è¾‘ï¼Œé‚®ç®±æ³„éœ²ï¼Œæ’ä»¶ï¼ˆæ— æ³•åŠ è½½ä½œç½¢ï¼‰ã€‚

- ç½‘ç«™é…ç½®

  ```
  Textpattern version: 4.8.3 (596bca03a4b32004412499363cecec62)
  Last update: 2020-09-13 19:56:06
  Site URL: 192.168.2.35/textpattern
  Admin URL: 192.168.2.35/textpattern/textpattern
  Document root: /var/www
  $path_to_site: /var/www/textpattern
  Textpattern path: /var/www/textpattern/textpattern
  Article URL pattern: messy
  Production status: testing
  Temporary directory path: /tmp
  PHP version: 5.5.38-1~dotdeb+7.1
  GD Graphics Library: Unavailable
  Server timezone: UTC
  Server local time: 2023-03-07 14:40:29
  Daylight Saving Time enabled?: 0
  Automatically adjust Daylight Saving Time setting?: 1
  Time zone (GMT offset in seconds): Asia/BaghdadÂ (10800)
  MySQL: 5.5.47-0+deb7u1 ((Debian)) 
  Database server time: 2023-03-07 08:40:29
  Database server time offset: 0 s
  Database server timezone: SYSTEM
  Database session timezone: SYSTEM
  Locale: C
  Site / Admin language: en / en
  Web server: Apache/2.2.22 (Debian)
  Apache version: Apache/2.2.22 (Debian)
  PHP server API: apache2handler
  RFC 2616 headers: 
  Server OS: Linux 3.2.0-4-amd64
  Admin-side theme: hiveÂ 4.8.3
  
  Pre-flight check: 
  ------------------------
  
  New Textpattern version 4.8.8 available for download.Â Help
  
  DNS lookup failed: 192.168.2.35Â Help
  
  /var/www/textpattern/textpattern/setup/ still exists.Â Help
  
  Site URL preference might be incorrect: 192.168.174.159/textpatternÂ Help
  
  Image directory is not writable: /var/www/textpattern/images
  Theme directory is not writable: /var/www/textpattern/themes
  Plugin directory is not writable: /var/www/textpattern/textpattern/pluginsÂ Help
  ------------------------
  
  .htaccess file contents: 
  ------------------------
  # BEGIN Textpattern
  
  #DirectoryIndex index.php index.html
  
  <IfModule mod_rewrite.c>
      RewriteEngine On
  
      # Enable the `FollowSymLinks` option below if it isn't already.
      #Options +FollowSymlinks
  
      #RewriteBase /relative/web/path/
  
      RewriteCond %{REQUEST_FILENAME} -f [OR]
      RewriteCond %{REQUEST_FILENAME} -d
      RewriteRule ^(.+) - [PT,L]
  
      RewriteCond %{REQUEST_URI} !=/favicon.ico
      RewriteRule ^(.*) index.php
  
      RewriteCond %{HTTP:Authorization}  !^$
      RewriteRule .* - [E=REMOTE_USER:%{HTTP:Authorization}]
  </IfModule>
  
  <IfModule mod_mime.c>
      AddType image/svg+xml  svg svgz
      AddEncoding gzip       svgz
  </IfModule>
  
  # For additional Apache-compatible web server configuration settings to enhance
  # site performance and security, we recommend:
  # https://github.com/h5bp/server-configs-apache/blob/master/dist/.htaccess
  
  # END Textpattern
  
  ------------------------
  ```

- æ–‡ä»¶ä¸Šä¼ 

  å¯ä»¥ç›´æ¥ä¸Šä¼ ğŸï¼Œæ— ä»»ä½•é˜²æŠ¤

  æ¼æ´åˆ†æï¼šhttps://blog.csdn.net/yun2diao/article/details/92765372

  åå¼¹shell

  <img src="../../../typora img/image-20230307151417930.png" alt="image-20230307151417930" style="zoom:80%;" />



ææƒ

ä¸Šä¼ linepeas.shæŸ¥æ‰¾å¯ææƒé¡¹

è¿™é‡ŒæŸ¥æ‰¾CVE

![image-20230307153044644](../../../images/image-20230307153044644-1686283466997.png)

é€‰æ‹©ä¸€ä¸ªcveè¿›è¡Œææƒï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯è„ç‰›ææƒhttps://github.com/firefart/dirtycow

![image-20230307154757476](../../../images/image-20230307154757476-1686283466997.png)

![image-20230307154831929](../../../images/image-20230307154831929-1686283466997.png)

### 7

![image-20230307182708576](../../../images/image-20230307182708576-1686283466997.png)

![image-20230307182726635](../../../images/image-20230307182726635-1686283466997.png)

å¼€æ”¾äº†å¾ˆå¤šç«¯å£å’ŒæœåŠ¡ï¼Œä¸åŒç«¯å£ä¸Šéƒ½æœ‰ç½‘ç«™ï¼Œæ‰€ä»¥ç›®å½•æ‰«ææ—¶éœ€è¦æ³¨æ„æ‰«å“ªä¸ªç«¯å£

```
66
80
8086
```

- 80ç«¯å£

  ![image-20230307224547682](../../../images/image-20230307224547682-1686283466997.png)

  msfä¸€æ¡é¾™

![image-20230307224427084](../../../images/image-20230307224427084-1686283466997.png)

![image-20230307224412649](../../../images/image-20230307224412649-1686283466997.png)



- 66ç«¯å£

  dirsearchæ‰«æç»“æœ

  ![image-20230307224912102](../../../images/image-20230307224912102-1686283466997.png)

  ![image-20230307224854194](../../../images/image-20230307224854194-1686283466998.png)

  â€‹	å†å²å‘½ä»¤æ“ä½œ.bash_historyé‡è¦éƒ¨åˆ†

  ```
  wget 192.168.2.43:81/root.txt
  mv root.txt flag.txt
  nano flag.txt
  ```

  å¯ä»¥å‘ç°ä»åˆ«çš„ä¸»æœºä¸Šå¤åˆ¶äº†flagï¼Œå¹¶é‡åä¸ºflag.txt

- 8086

  ![image-20230307225845372](../../../images/image-20230307225845372-1686283466998.png)

  éƒ½æ˜¯é™æ€é¡µé¢



è¿™é‡Œçœ‹äº†wpæ­£å¸¸æ˜¯ä»66ç«¯å£ç›®å½•æ‰«æå‡º/enoç›®å½•ï¼Œä¸‹è½½å¹¶ç ´è§£zipå‹ç¼©åŒ…ï¼Œè·å¾—80ç«¯å£çš„ç”¨æˆ·å‡­è¯çš„ã€‚ã€‚





### 9

ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ²¡æœ‰8

![image-20230307232027664](../../../images/image-20230307232027664-1686283466998.png)

ç½‘ç«™

åªæœ‰ä¸€ä¸ªç™»å½•æ¡†

sqlæ³¨å…¥å¤±è´¥ï¼Œå¼±å£ä»¤çˆ†ç ´å¤±è´¥



ç›®å½•æ‰«æ

![image-20230307234601067](../../../images/image-20230307234601067-1686283466998.png)

çœ‹åˆ°backupè¿˜ä»¥ä¸ºæœ‰å¤‡ä»½æ–‡ä»¶å¯ä»¥è¿›è¡Œä»£ç å®¡è®¡ï¼Œä½†æ˜¯æ²¡æœ‰ï¼›

è®¿é—®/admin/home.phpå°è¯•æ˜¯å¦å­˜åœ¨æœªæˆæƒï¼Œå‘ç°æ²¡æœ‰ã€‚



å¯»æ‰¾ç½‘ç«™æ¡†æ¶æ¼æ´ 

![image-20230307234835760](../../../images/image-20230307234835760-1686283466999.png)

å°è¯•äº†ä¹‹åå‘ç°åªå­˜åœ¨rceæ¼æ´

![image-20230307233410737](../../../images/image-20230307233410737-1686283466999.png)

![image-20230307233603248](../../../images/image-20230307233603248-1686283466999.png)

![image-20230307233643324](../../../images/image-20230307233643324-1686283466999.png)

ä½¿ç”¨ç¬¬äºŒä¸ªpyè„šæœ¬

![image-20230308001806203](../../../images/image-20230308001806203-1686283466999.png)

![image-20230308001820794](../../../images/image-20230308001820794-1686283466999.png)

è¿™ä¸ªè„šæœ¬å¾ˆè´´å¿ƒåœ°ç»™å‡ºäº†æœåŠ¡å™¨ä¿¡æ¯ï¼Œå¹¶è¯»å–äº†é…ç½®æ–‡ä»¶ï¼Œè·å¾—äº†claptonç”¨æˆ·çš„å‡­è¯ã€‚

![image-20230307234930848](../../../images/image-20230307234930848-1686283467000.png)

å‘ç°å¤§éƒ¨åˆ†å‘½ä»¤æ˜æ˜å¯ä»¥ä½¿ç”¨çš„å´éƒ½æ‰§è¡Œä¸äº†ï¼Œæ‰€ä»¥éœ€è¦åå¼¹shellåˆ°kaliï¼Œç»æµ‹è¯•å¯ä»¥ä½¿ç”¨ncè¿›è¡Œåå¼¹shell

![image-20230308130950848](../../../images/image-20230308130950848-1686283467000.png)

ä½¿ç”¨pythonåˆ‡æ¢ä¸ºäº¤äº’å¼shellï¼Œåˆ‡æ¢åˆ°claptonç”¨æˆ·

![image-20230308131017546](../../../images/image-20230308131017546-1686283467000.png)

å‘ç°claptonå®¶ç›®å½•ä¸‹æœ‰note.txt

![image-20230308131125354](../../../images/image-20230308131125354-1686283467000.png)

è¯»å–

![image-20230308131243068](../../../images/image-20230308131243068-1686283467000.png)

æç¤ºæˆ‘ä»¬ç”¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´ææƒï¼Œè¿™éƒ¨åˆ†pwnä¸ä¼š

æŒ‰ç…§ä¸‹é¢æ–‡ç« ä¸­çš„æ–¹æ³•è¿›è¡Œå¤ç°

https://zhuanlan.zhihu.com/p/570218595

æœ€åè´´ä¸Šå¤ç°æˆåŠŸçš„æˆªå›¾

![image-20230308130938122](../../../images/image-20230308130938122-1686283467000.png)